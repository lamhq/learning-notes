# Manipulating Data

## Insert

```py
squidward = User(name="squidward", fullname="Squidward Tentacles")

session.add(squidward)
session.commit()
```

Getting value of Autogenerated primary key:

```py
squidward.id
```

## Update

```py
sandy.fullname = "Sandy Squirrel"
if sandy in session.dirty:
  session.commit()
```


## Execute update statement

```py
session.execute(
    update(User)
    .where(User.name == "sandy")
    .values(fullname="Sandy Squirrel Extraordinaire")
)
session.commit()
```

## Delete

```py
patrick = session.get(User, 3)
session.delete(patrick)
session.commit()

print(patrick in session)
```

```py
session.execute(delete(User).where(User.name == "squidward"))
```

## Execute SQL statement

```py
with Session(engine) as session:
    result = session.execute(
        text("UPDATE some_table SET y=:y WHERE x=:x"),
        [{"x": 9, "y": 11}, {"x": 13, "y": 15}],
    )
    session.commit()
```


## Rollback

```py
session.rollback()
```
